<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../manual.css" type="text/css" />
</head>
<body>
<hr />
<h2 id="gnu-開発環境の設定-linux-用">GNU 開発環境の設定 (Linux 用)</h2>
<hr />
<ul>
<li><a href="#作業ディレクトリの作成">1. 作業ディレクトリの作成</a></li>
<li><a href="#開発環境パッケージの展開">2. 開発環境パッケージの展開</a></li>
<li><a href="#開発用ツールの準備">3. 開発用ツールの準備</a></li>
<li><a href="#環境変数の設定">4. 環境変数の設定</a></li>
<li><a href="#t-kernel-ソースコードパッケージの展開">5. T-Kernel ソースコードパッケージの展開</a></li>
</ul>
<hr />
<h3 id="作業ディレクトリの作成">1. 作業ディレクトリの作成</h3>
<p>まず、GNU 開発環境をインストールするディレクトリを作成します。ここでは、&quot;/usr/local/tef_em1d&quot; にインストールするものとします。</p>
<p>Linux コンソール上で次のコマンドを実行して、ディレクトリを作成します。</p>
<pre><code>    $ mkdir /usr/local/tef_em1d</code></pre>
<ul>
<li><p>他の T-Kernel 用 GNU 開発環境が既にインストールされている場合は、それとは異なるディレクトリにインストールしてください。同じディレクトリにインストールした場合は、問題を生じる可能性があります。</p></li>
<li><p>通常、&quot;/usr/local&quot; の所有者は &quot;root&quot; となっているため、&quot;/usr/local/tef_em1d&quot; を作成するためには root 権限が必要になります。root 権限でログインしていない場合は、&quot;sudo&quot; コマンドを使用してください。&quot;/usr/local/tef_em1d&quot; の作成後、その所有者およびパーミッションは、T-Kernel の開発作業を行うユーザがアクセスできるよう適切に設定してください。</p></li>
</ul>
<h3 id="開発環境パッケージの展開">2. 開発環境パッケージの展開</h3>
<p>次に、&quot;/usr/local/tef_em1d&quot; 内に、GNU 開発環境パッケージを展開します。</p>
<p>まず、本パッケージの &quot;develop&quot; ディレクトリにある以下のファイルを、&quot;/usr/local/tef_em1d&quot; ディレクトリにコピーしてください。</p>
<pre><code>    - te.Linux-i686.arm_2.1.0.3.tar.gz
    - te.Linux-i686.common.15.tar.gz</code></pre>
<p>その後、Linux コンソール上で次のコマンドを順に実行し、各パッケージを展開してください。&quot;/usr/local/tef_em1d/tool&quot; に GNU 開発環境が設定されます。</p>
<pre><code>    $ cd /usr/local/tef_em1d
    $ tar zxpf te.Linux-i686.arm_2.1.0.3.tar.gz
    $ tar zxpf te.Linux-i686.common.15.tar.gz</code></pre>
<p>パッケージの展開後は、コピーした各 tar.gz のファイルは不要ですので削除してください。</p>
<h3 id="開発用ツールの準備">3. 開発用ツールの準備</h3>
<p>GNU 開発環境を使用するために、以下のツールが必要です。Linux システムにインストールされていない場合は、入手して利用可能な状態にしておいてください。</p>
<pre><code>    - GNU Make
    - perl</code></pre>
<h3 id="環境変数の設定">4. 環境変数の設定</h3>
<p>続いて、必要な環境変数を設定します。</p>
<p>bash の起動コマンドファイル &quot;/home/ユーザ名/.bashrc&quot; を編集して、この中に以下の設定コマンドを追加してください。</p>
<ul>
<li><p>コンパイルとビルドを行うための環境変数 - GNU_BD, GNUARM_2</p>
<pre><code>export GNU_BD=/usr/local/tef_em1d/tool/Linux-i686
export GNUARM_2=$GNU_BD/arm_2-unknown-tkernel</code></pre></li>
<li><p>T-Kernelソースの先頭ディレクトリを表わす環境変数 - BD</p>
<pre><code>export BD=/usr/local/tef_em1d/tkernel_source</code></pre></li>
</ul>
<p>設定するパス名は、GNU 開発環境をインストールした作業ディレクトリのパス名に合わせて適宜変更してください。</p>
<p>なお、.bashrc への設定内容は、コンソールの再起動後に有効となります。すぐに有効にするためには、以下のコマンドを実行してください。</p>
<pre><code>    $ source ~/.bashrc</code></pre>
<h3 id="t-kernel-ソースコードパッケージの展開">5. T-Kernel ソースコードパッケージの展開</h3>
<p>本パッケージの &quot;srcpkg&quot; ディレクトリにある以下のファイルを、&quot;/usr/local/tef_em1d&quot; ディレクトリにコピーしてください。</p>
<pre><code>    - tkernel_source.tar.gz</code></pre>
<p>その後、Linux コンソール上で次のコマンドを実行し、パッケージを展開してください。&quot;/usr/local/tef_em1d/tkernel_source&quot; に T-Kernel ソースコードパッケージが展開されます。</p>
<pre><code>    $ cd /usr/local/tef_em1d
    $ tar zxpf tkernel_source.tar.gz</code></pre>
<p>パッケージの展開後は、コピーした tkernel_source.tar.gz のファイルは不要ですので削除してください。</p>
</body>
</html>
